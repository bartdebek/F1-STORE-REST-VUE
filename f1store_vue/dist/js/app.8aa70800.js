(function(){"use strict";var t={4430:function(t,e,s){var o=s(9242),n=s(3396),a=s(7139);const r=(0,n._)("head",null,[(0,n._)("meta",{charset:"utf-8"}),(0,n._)("link",{rel:"shortcut icon",type:"image/png",href:"favicon.png"})],-1),i={id:"wrapper"},l={class:"navbar is-dark"},c={class:"navbar-brand"},u=(0,n._)("strong",null,"F1 Store",-1),d=(0,n._)("span",{"aria-hidden":"true"},null,-1),m=(0,n._)("span",{"aria-hidden":"true"},null,-1),h=(0,n._)("span",{"aria-hidden":"true"},null,-1),p=[d,m,h],g={class:"navbar-end"},_=(0,n._)("div",{class:"navbar-item"},[(0,n._)("form",{method:"get",action:"/search"},[(0,n._)("div",{class:"field has-addons"},[(0,n._)("div",{class:"control"},[(0,n._)("input",{type:"text",class:"input",placeholder:"Search product",name:"query"})]),(0,n._)("div",{class:"control"},[(0,n._)("button",{class:"button is-success"},[(0,n._)("span",{class:"icon"},[(0,n._)("i",{class:"fas fa-search"})])])])])])],-1),v=(0,n._)("strong",null,"Clothing",-1),y=(0,n._)("strong",null,"Accessories",-1),f=(0,n._)("strong",null,"Shop by Team",-1),w={class:"navbar-item"},b={class:"buttons"},k=(0,n._)("strong",null,"Log In",-1),P=(0,n._)("span",{class:"icon"},[(0,n._)("i",{class:"fas fa-shopping-cart"})],-1),S=(0,n._)("div",{class:"lds-dual-ring"},null,-1),T=[S],$={class:"section"},C=(0,n._)("footer",{class:"footer"},[(0,n._)("p",{class:"has-text-centered"},"Copyright © Bartosz Dębek 2022")],-1);function z(t,e,s,o,d,m){const h=(0,n.up)("router-link"),S=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r,(0,n._)("div",i,[(0,n._)("nav",l,[(0,n._)("div",c,[(0,n.Wm)(h,{to:"/",class:"navbar-item"},{default:(0,n.w5)((()=>[u])),_:1}),(0,n._)("a",{class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu",onClick:e[0]||(e[0]=t=>d.showMobileMenu=!d.showMobileMenu)},p)]),(0,n._)("div",{class:(0,a.C_)(["navbar-menu",{"is-active":d.showMobileMenu}]),id:"navbar-menu"},[(0,n._)("div",g,[_,(0,n.Wm)(h,{to:"/clothing",class:"navbar-item"},{default:(0,n.w5)((()=>[v])),_:1}),(0,n.Wm)(h,{to:"/accessories",class:"navbar-item"},{default:(0,n.w5)((()=>[y])),_:1}),(0,n.Wm)(h,{to:"/teams",class:"navbar-item"},{default:(0,n.w5)((()=>[f])),_:1}),(0,n._)("div",w,[(0,n._)("div",b,[t.$store.state.isAuthenticated?((0,n.wg)(),(0,n.j4)(h,{key:0,to:"/my-account",class:"button is-light"},{default:(0,n.w5)((()=>[(0,n.Uk)("My account")])),_:1})):((0,n.wg)(),(0,n.j4)(h,{key:1,to:"/login",class:"button is-light"},{default:(0,n.w5)((()=>[k])),_:1})),(0,n.Wm)(h,{to:"/cart",class:"button is-success"},{default:(0,n.w5)((()=>[P,(0,n._)("span",null,"Cart ("+(0,a.zw)(m.cartTotalLength)+")",1)])),_:1})])])])],2)]),(0,n._)("div",{class:(0,a.C_)(["is-loading-bar has-text-centered",{"is-loading":t.$store.state.isLoading}])},T,2),(0,n._)("section",$,[(0,n.Wm)(S)]),C])],64)}var L=s(70),I={data(){return{showMobileMenu:!1,cart:{items:[]}}},beforeCreate(){this.$store.commit("initializeStore");const t=this.$store.state.token;L.ZP.defaults.headers.common.Authorization=t?"Token "+t:""},mounted(){this.cart=this.$store.state.cart},computed:{cartTotalLength(){let t=0;for(let e=0;e<this.cart.items.length;e++)t+=this.cart.items[e].quantity;return t}}},x=s(89);const q=(0,x.Z)(I,[["render",z]]);var D=q,F=s(2483),O=(s(7658),s(65)),U=(0,O.MT)({state:{cart:{items:[]},isAuthenticated:!1,token:"",isLoading:!1},mutations:{initializeStore(t){localStorage.getItem("cart")?t.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(t.cart)),localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},addToCart(t,e){const s=t.cart.items.filter((t=>t.product.id===e.product.id));s.length?s[0].quantity=parseInt(s[0].quantity)+parseInt(e.quantity):t.cart.items.push(e),localStorage.setItem("cart",JSON.stringify(t.cart))},setIsLoading(t,e){t.isLoading=e},setToken(t,e){t.token=e,t.isAuthenticated=!0},removeToken(t){t.token="",t.isAuthenticated=!1},clearCart(t){t.cart={items:[]},localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{},modules:{}});const Z={class:"home"},M=(0,n._)("section",{class:"hero is-medium is-dark mb-6"},[(0,n._)("div",{class:"hero-body has-text-centered"},[(0,n._)("p",{class:"title mb-6"}," Welcome to F1 Store "),(0,n._)("p",{class:"subtitle"}," The place to get your F1 merchendise ")])],-1),j={class:"columns is-multiline"},H=(0,n._)("div",{class:"column is-12"},[(0,n._)("h2",{class:"is-size-2 has-text-centered"},"Latest products")],-1);function A(t,e,s,o,a,r){const i=(0,n.up)("ProductBox");return(0,n.wg)(),(0,n.iD)("div",Z,[M,(0,n._)("div",j,[H,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.latestProducts,(t=>((0,n.wg)(),(0,n.j4)(i,{key:t.id,product:t},null,8,["product"])))),128))])])}const V={class:"column is-3"},Y={class:"box"},B={class:"image mb-4"},K=["src"],N={class:"is-size-4"},W={class:"is-size-6 has-text-grey"};function E(t,e,s,o,r,i){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",V,[(0,n._)("div",Y,[(0,n._)("figure",B,[(0,n._)("img",{src:s.product.get_thumbnail},null,8,K)]),(0,n._)("h3",N,(0,a.zw)(s.product.name),1),(0,n._)("p",W,"$"+(0,a.zw)(s.product.price),1),(0,n.Wm)(l,{to:s.product.get_absolute_url,class:"button is-dark mt-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("View details")])),_:1},8,["to"])])])}var J={name:"ProductBox",props:{product:Object}};const R=(0,x.Z)(J,[["render",E],["__scopeId","data-v-b208c02e"]]);var Q=R,X={name:"HomeView",data(){return{latestProducts:[]}},components:{ProductBox:Q},mounted(){this.getLatestProducts()},methods:{async getLatestProducts(){this.$store.commit("setIsLoading",!0),await L.ZP.get("api/v1/latest-products/").then((t=>{this.latestProducts=t.data,document.title="Home | F1 Store"})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const G=(0,x.Z)(X,[["render",A]]);var tt=G;const et={class:"page-product"},st={class:"columns is-multiline"},ot={class:"column is-7"},nt={class:"image mb-6"},at=["src"],rt={class:"title"},it={class:"column is-3"},lt=(0,n._)("h2",{class:"subtitle"},"Information",-1),ct=(0,n._)("strong",null,"Price: ",-1),ut={class:"field has-addons mt-6"},dt={class:"control"},mt={class:"control"};function ht(t,e,s,r,i,l){return(0,n.wg)(),(0,n.iD)("div",et,[(0,n._)("div",st,[(0,n._)("div",ot,[(0,n._)("figure",nt,[(0,n._)("img",{src:i.product.get_image},null,8,at)]),(0,n._)("h1",rt,(0,a.zw)(i.product.name),1),(0,n._)("p",null,(0,a.zw)(i.product.description),1)]),(0,n._)("div",it,[lt,(0,n._)("p",null,[ct,(0,n.Uk)("$"+(0,a.zw)(i.product.price),1)]),(0,n._)("div",ut,[(0,n._)("div",dt,[(0,n.wy)((0,n._)("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":e[0]||(e[0]=t=>i.quantity=t)},null,512),[[o.nr,i.quantity]])]),(0,n._)("div",mt,[(0,n._)("a",{class:"button is-dark",onClick:e[1]||(e[1]=t=>l.addToCart())},"Add to cart")])])])])])}var pt=s(5597),gt={name:"Product",data(){return{product:{},quantity:1}},mounted(){this.getProduct()},methods:{async getProduct(){this.$store.commit("setIsLoading",!0);const t=this.$route.params.category_slug,e=this.$route.params.product_slug;await L.ZP.get(`/api/v1/products/${t}/${e}`).then((t=>{this.product=t.data,document.title=this.product.name+" | F1 Store"})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)},addToCart(){(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);const t={product:this.product,quantity:this.quantity};this.$store.commit("addToCart",t),(0,pt.toast)({message:"The product was added to the cart",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:4e3,position:"bottom-right"})}}};const _t=(0,x.Z)(gt,[["render",ht]]);var vt=_t;const yt={class:"page-category"},ft={class:"columns is-multiline"},wt={class:"column is-12"},bt={class:"is-size-2 has-text-centered"};function kt(t,e,s,o,r,i){const l=(0,n.up)("ProductBox");return(0,n.wg)(),(0,n.iD)("div",yt,[(0,n._)("div",ft,[(0,n._)("div",wt,[(0,n._)("h2",bt,(0,a.zw)(r.category.name),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.category.products,(t=>((0,n.wg)(),(0,n.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var Pt={name:"Category",components:{ProductBox:Q},data(){return{category:{products:[]}}},mounted(){this.getCategory()},watch:{$route(t,e){"Category"===t.name&&this.getCategory()}},methods:{async getCategory(){const t=this.$route.params.category_slug;this.$store.commit("setIsLoading",!0),L.ZP.get(`/api/v1/products/${t}/`).then((t=>{this.category=t.data,document.title=this.category.name+" | F1 Store"})).catch((t=>{console.log(t),(0,pt.toast)({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),this.$store.commit("setIsLoading",!1)}}};const St=(0,x.Z)(Pt,[["render",kt]]);var Tt=St;const $t={class:"page-search"},Ct={class:"columns is-multiline"},zt={class:"column is-12"},Lt=(0,n._)("h1",{class:"title"},"Search",-1),It={class:"is-size-5 has-text-grey"};function xt(t,e,s,o,r,i){const l=(0,n.up)("ProductBox");return(0,n.wg)(),(0,n.iD)("div",$t,[(0,n._)("div",Ct,[(0,n._)("div",zt,[Lt,(0,n._)("h2",It,'Search term: "'+(0,a.zw)(r.query)+'"',1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.products,(t=>((0,n.wg)(),(0,n.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var qt={name:"Search",components:{ProductBox:Q},data(){return{products:[],query:""}},mounted(){document.title="Search | F1 Store";let t=window.location.search.substring(1),e=new URLSearchParams(t);e.get("query")&&(this.query=e.get("query"),this.performSearch())},methods:{async performSearch(){this.$store.commit("setIsLoading",!0),await L.ZP.post("/api/v1/products/search/",{query:this.query}).then((t=>{this.products=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const Dt=(0,x.Z)(qt,[["render",xt]]);var Ft=Dt;const Ot={class:"page-cart"},Ut={class:"columns is-multiline"},Zt=(0,n._)("div",{class:"column is-12"},[(0,n._)("h1",{class:"title"},"Cart")],-1),Mt={class:"column is-12 box"},jt={key:0,class:"table is-fullwidth"},Ht=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Product"),(0,n._)("th",null,"Price"),(0,n._)("th",null,"Quantity"),(0,n._)("th",null,"Total"),(0,n._)("th")])],-1),At={key:1},Vt={class:"column is-12 box"},Yt=(0,n._)("h2",{class:"subtitle"},"Summary",-1),Bt=(0,n._)("hr",null,null,-1);function Kt(t,e,s,o,r,i){const l=(0,n.up)("CartItem"),c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",Ot,[(0,n._)("div",Ut,[Zt,(0,n._)("div",Mt,[i.cartTotalLength?((0,n.wg)(),(0,n.iD)("table",jt,[Ht,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.cart.items,(t=>((0,n.wg)(),(0,n.j4)(l,{key:t.product.id,initialItem:t,onRemoveFromCart:i.removeFromCart},null,8,["initialItem","onRemoveFromCart"])))),128))])])):((0,n.wg)(),(0,n.iD)("p",At,"You don't have any products in your cart..."))]),(0,n._)("div",Vt,[Yt,(0,n.Uk)(" "+(0,a.zw)(i.cartTotalLength)+" items: ",1),(0,n._)("strong",null,"$"+(0,a.zw)(i.cartTotalPrice.toFixed(2)),1),Bt,(0,n.Wm)(c,{to:"/cart/checkout",class:"button is-dark"},{default:(0,n.w5)((()=>[(0,n.Uk)("Proceed to checkout")])),_:1})])])])}function Nt(t,e,s,o,r,i){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,[(0,n.Wm)(l,{to:r.item.product.get_absolute_url},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(r.item.product.name),1)])),_:1},8,["to"])]),(0,n._)("td",null,"$"+(0,a.zw)(r.item.product.price),1),(0,n._)("td",null,[(0,n._)("a",{class:"button is-small is-danger is-outlined",onClick:e[0]||(e[0]=t=>i.decrementQuantity(r.item))},"-"),(0,n.Uk)(" "+(0,a.zw)(r.item.quantity)+" ",1),(0,n._)("a",{class:"button is-small is-success is-outlined",onClick:e[1]||(e[1]=t=>i.incrementQuantity(r.item))},"+")]),(0,n._)("td",null,"$"+(0,a.zw)(i.getItemTotal(r.item).toFixed(2)),1),(0,n._)("td",null,[(0,n._)("button",{class:"delete",onClick:e[2]||(e[2]=t=>i.removeFromCart(r.item))})])])}var Wt={name:"CartItem",props:{initialItem:Object},data(){return{item:this.initialItem}},methods:{getItemTotal(t){return t.quantity*t.product.price},decrementQuantity(t){t.quantity-=1,0===t.quantity&&this.$emit("removeFromCart",t),this.updateCart()},incrementQuantity(t){t.quantity+=1,this.updateCart()},updateCart(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart(t){this.$emit("removeFromCart",t),this.updateCart()}}};const Et=(0,x.Z)(Wt,[["render",Nt]]);var Jt=Et,Rt={name:"Cart",components:{CartItem:Jt},data(){return{cart:{items:[]}}},mounted(){document.title="Cart | F1 Store",this.cart=this.$store.state.cart},methods:{removeFromCart(t){this.cart.items=this.cart.items.filter((e=>e.product.id!==t.product.id))}},computed:{cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)},cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.product.price*e.quantity),0)}}};const Qt=(0,x.Z)(Rt,[["render",Kt]]);var Xt=Qt;const Gt={class:"page-sign-up"},te={class:"columns"},ee={class:"column is-4 is-offset-4"},se=(0,n._)("h1",{class:"title"},"Sign up",-1),oe={class:"field"},ne=(0,n._)("label",null,"Username",-1),ae={class:"control"},re={class:"field"},ie=(0,n._)("label",null,"Password",-1),le={class:"control"},ce={class:"field"},ue=(0,n._)("label",null,"Repeat password",-1),de={class:"control"},me={key:0,class:"notification is-danger"},he=(0,n._)("div",{class:"field"},[(0,n._)("div",{class:"control"},[(0,n._)("button",{class:"button is-dark"},"Sign up")])],-1),pe=(0,n._)("hr",null,null,-1);function ge(t,e,s,r,i,l){const c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",Gt,[(0,n._)("div",te,[(0,n._)("div",ee,[se,(0,n._)("form",{onSubmit:e[3]||(e[3]=(0,o.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,n._)("div",oe,[ne,(0,n._)("div",ae,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>i.username=t)},null,512),[[o.nr,i.username]])])]),(0,n._)("div",re,[ie,(0,n._)("div",le,[(0,n.wy)((0,n._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t)},null,512),[[o.nr,i.password]])])]),(0,n._)("div",ce,[ue,(0,n._)("div",de,[(0,n.wy)((0,n._)("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>i.password2=t)},null,512),[[o.nr,i.password2]])])]),i.errors.length?((0,n.wg)(),(0,n.iD)("div",me,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.errors,(t=>((0,n.wg)(),(0,n.iD)("p",{key:t},(0,a.zw)(t),1)))),128))])):(0,n.kq)("",!0),he,pe,(0,n.Uk)(" Or "),(0,n.Wm)(c,{to:"/log-in"},{default:(0,n.w5)((()=>[(0,n.Uk)("click here")])),_:1}),(0,n.Uk)(" to log in! ")],32)])])])}var _e={name:"SignUp",data(){return{username:"",password:"",password2:"",errors:[]}},mounted(){document.title="Sign Up | F1 Store"},methods:{submitForm(){if(this.errors=[],""===this.username&&this.errors.push("The username is missing"),""===this.password&&this.errors.push("The password is too short"),this.password!==this.password2&&this.errors.push("The passwords doesn't match"),!this.errors.length){const t={username:this.username,password:this.password};L.ZP.post("/api/v1/users/",t).then((t=>{(0,pt.toast)({message:"Account created, please log in!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),this.$router.push("/log-in")})).catch((t=>{if(t.response){for(const e in t.response.data)this.errors.push(`${e}: ${t.response.data[e]}`);console.log(JSON.stringify(t.response.data))}else t.message&&(this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t)))}))}}}};const ve=(0,x.Z)(_e,[["render",ge]]);var ye=ve;const fe={class:"page-log-in"},we={class:"columns"},be={class:"column is-4 is-offset-4"},ke=(0,n._)("h1",{class:"title"},"Log in",-1),Pe={class:"field"},Se=(0,n._)("label",null,"Username",-1),Te={class:"control"},$e={class:"field"},Ce=(0,n._)("label",null,"Password",-1),ze={class:"control"},Le={key:0,class:"notification is-danger"},Ie=(0,n._)("div",{class:"field"},[(0,n._)("div",{class:"control"},[(0,n._)("button",{class:"button is-dark"},"Log in")])],-1),xe=(0,n._)("hr",null,null,-1);function qe(t,e,s,r,i,l){const c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",fe,[(0,n._)("div",we,[(0,n._)("div",be,[ke,(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,n._)("div",Pe,[Se,(0,n._)("div",Te,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>i.username=t)},null,512),[[o.nr,i.username]])])]),(0,n._)("div",$e,[Ce,(0,n._)("div",ze,[(0,n.wy)((0,n._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t)},null,512),[[o.nr,i.password]])])]),i.errors.length?((0,n.wg)(),(0,n.iD)("div",Le,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.errors,(t=>((0,n.wg)(),(0,n.iD)("p",{key:t},(0,a.zw)(t),1)))),128))])):(0,n.kq)("",!0),Ie,xe,(0,n.Uk)(" Or "),(0,n.Wm)(c,{to:"/sign-up"},{default:(0,n.w5)((()=>[(0,n.Uk)("click here")])),_:1}),(0,n.Uk)(" to sign up! ")],32)])])])}var De={name:"LogIn",data(){return{username:"",password:"",errors:[]}},mounted(){document.title="Log In | F1 Store"},methods:{async submitForm(){L.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token");const t={username:this.username,password:this.password};await L.ZP.post("/api/v1/token/login/",t).then((t=>{const e=t.data.auth_token;this.$store.commit("setToken",e),L.ZP.defaults.headers.common.Authorization="Token "+e,localStorage.setItem("token",e);const s=this.$route.query.to||"/cart";this.$router.push(s)})).catch((t=>{if(t.response)for(const e in t.response.data)this.errors.push(`${e}: ${t.response.data[e]}`);else this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t))}))}}};const Fe=(0,x.Z)(De,[["render",qe]]);var Oe=Fe;const Ue={class:"page-my-account"},Ze={class:"columns is-multiline"},Me=(0,n._)("div",{class:"column is-12"},[(0,n._)("h1",{class:"title"},"My account")],-1),je={class:"column is-12"},He=(0,n._)("hr",null,null,-1),Ae={class:"column is-12"},Ve=(0,n._)("h2",{class:"subtitle"},"My orders",-1);function Ye(t,e,s,o,a,r){const i=(0,n.up)("OrderSummary");return(0,n.wg)(),(0,n.iD)("div",Ue,[(0,n._)("div",Ze,[Me,(0,n._)("div",je,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>r.logout()),class:"button is-danger"},"Log out")]),He,(0,n._)("div",Ae,[Ve,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.orders,(t=>((0,n.wg)(),(0,n.j4)(i,{key:t.id,order:t},null,8,["order"])))),128))])])])}const Be={class:"box mb-4"},Ke={class:"is-size-4 mb-6"},Ne=(0,n._)("h4",{class:"is-size-5"},"Products",-1),We={class:"table is-fullwidth"},Ee=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Product"),(0,n._)("th",null,"Price"),(0,n._)("th",null,"Quantity"),(0,n._)("th",null,"Total")])],-1),Je=(0,n._)("th",null,"Total amount",-1),Re=(0,n._)("th",null,null,-1),Qe=(0,n._)("th",null,null,-1);function Xe(t,e,s,o,r,i){return(0,n.wg)(),(0,n.iD)("div",Be,[(0,n._)("h3",Ke,"Order #"+(0,a.zw)(s.order.id),1),Ne,(0,n._)("table",We,[Ee,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.order.items,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.product.id},[(0,n._)("td",null,(0,a.zw)(t.product.name),1),(0,n._)("td",null,"$"+(0,a.zw)(t.product.price),1),(0,n._)("td",null,(0,a.zw)(t.quantity),1),(0,n._)("td",null,"$"+(0,a.zw)(i.getItemTotal(t).toFixed(2)),1)])))),128))]),(0,n._)("tbody",null,[(0,n._)("tr",null,[Je,Re,Qe,(0,n._)("th",null,"$"+(0,a.zw)(s.order.paid_amount),1)])])])])}var Ge={name:"OrderSummary",props:{order:Object},methods:{getItemTotal(t){return t.quantity*t.product.price},orderTotalLength(t){return t.items.reduce(((t,e)=>t+e.quantity),0)}}};const ts=(0,x.Z)(Ge,[["render",Xe]]);var es=ts,ss={name:"MyAccount",components:{OrderSummary:es},data(){return{orders:[]}},mounted(){document.title="My account | F1 Store",this.getMyOrders()},methods:{logout(){L.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("removeToken"),this.$router.push("/")},async getMyOrders(){this.$store.commit("setIsLoading",!0),await L.ZP.get("/api/v1/orders/").then((t=>{this.orders=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const os=(0,x.Z)(ss,[["render",Ye]]);var ns=os;const as={class:"page-checkout"},rs={class:"columns is-multiline"},is=(0,n._)("div",{class:"column is-12"},[(0,n._)("h1",{class:"title"},"Checkout")],-1),ls={class:"column is-12 box"},cs={class:"table is-fullwidth"},us=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Product"),(0,n._)("th",null,"Price"),(0,n._)("th",null,"Quantity"),(0,n._)("th",null,"Total")])],-1),ds=(0,n._)("td",{colspan:"2"},"Total",-1),ms={class:"column is-12 box"},hs=(0,n._)("h2",{class:"subtitle"},"Shipping details",-1),ps=(0,n._)("p",{class:"has-text-grey mb-4"},"* All fields are required",-1),gs={class:"columns is-multiline"},_s={class:"column is-6"},vs={class:"field"},ys=(0,n._)("label",null,"First name*",-1),fs={class:"control"},ws={class:"field"},bs=(0,n._)("label",null,"Last name*",-1),ks={class:"control"},Ps={class:"field"},Ss=(0,n._)("label",null,"E-mail*",-1),Ts={class:"control"},$s={class:"field"},Cs=(0,n._)("label",null,"Phone*",-1),zs={class:"control"},Ls={class:"column is-6"},Is={class:"field"},xs=(0,n._)("label",null,"Street*",-1),qs={class:"control"},Ds={class:"field"},Fs=(0,n._)("label",null,"Zip code*",-1),Os={class:"control"},Us={class:"field"},Zs=(0,n._)("label",null,"City*",-1),Ms={class:"control"},js={key:0,class:"notification is-danger mt-4"},Hs=(0,n._)("hr",null,null,-1),As=(0,n._)("div",{id:"card-element",class:"mb-5"},null,-1),Vs=(0,n._)("hr",null,null,-1);function Ys(t,e,s,r,i,l){return(0,n.wg)(),(0,n.iD)("div",as,[(0,n._)("div",rs,[is,(0,n._)("div",ls,[(0,n._)("table",cs,[us,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.cart.items,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.product.id},[(0,n._)("td",null,(0,a.zw)(t.product.name),1),(0,n._)("td",null,"$"+(0,a.zw)(t.product.price),1),(0,n._)("td",null,(0,a.zw)(t.quantity),1),(0,n._)("td",null,"$"+(0,a.zw)(l.getItemTotal(t).toFixed(2)),1)])))),128))]),(0,n._)("tfoot",null,[(0,n._)("tr",null,[ds,(0,n._)("td",null,(0,a.zw)(l.cartTotalLength),1),(0,n._)("td",null,"$"+(0,a.zw)(l.cartTotalPrice.toFixed(2)),1)])])])]),(0,n._)("div",ms,[hs,ps,(0,n._)("div",gs,[(0,n._)("div",_s,[(0,n._)("div",vs,[ys,(0,n._)("div",fs,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>i.first_name=t)},null,512),[[o.nr,i.first_name]])])]),(0,n._)("div",ws,[bs,(0,n._)("div",ks,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>i.last_name=t)},null,512),[[o.nr,i.last_name]])])]),(0,n._)("div",Ps,[Ss,(0,n._)("div",Ts,[(0,n.wy)((0,n._)("input",{type:"email",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>i.email=t)},null,512),[[o.nr,i.email]])])]),(0,n._)("div",$s,[Cs,(0,n._)("div",zs,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=t=>i.phone=t)},null,512),[[o.nr,i.phone]])])])]),(0,n._)("div",Ls,[(0,n._)("div",Is,[xs,(0,n._)("div",qs,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[4]||(e[4]=t=>i.street=t)},null,512),[[o.nr,i.street]])])]),(0,n._)("div",Ds,[Fs,(0,n._)("div",Os,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[5]||(e[5]=t=>i.zipcode=t)},null,512),[[o.nr,i.zipcode]])])]),(0,n._)("div",Us,[Zs,(0,n._)("div",Ms,[(0,n.wy)((0,n._)("input",{type:"text",class:"input","onUpdate:modelValue":e[6]||(e[6]=t=>i.city=t)},null,512),[[o.nr,i.city]])])])])]),i.errors.length?((0,n.wg)(),(0,n.iD)("div",js,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.errors,(t=>((0,n.wg)(),(0,n.iD)("p",{key:t},(0,a.zw)(t),1)))),128))])):(0,n.kq)("",!0),Hs,As,l.cartTotalLength?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[Vs,(0,n._)("button",{class:"button is-dark",onClick:e[7]||(e[7]=(...t)=>l.submitForm&&l.submitForm(...t))},"Pay with Stripe")],64)):(0,n.kq)("",!0)])])])}var Bs={name:"Checkout",data(){return{cart:{items:[]},stripe:{},card:{},first_name:"",last_name:"",email:"",phone:"",street:"",zipcode:"",city:"",errors:[]}},mounted(){if(document.title="Checout | F1 Store",this.cart=this.$store.state.cart,this.cartTotalLength>0){this.stripe=Stripe("pk_test_51M9FBBHResVY53M8deM9efAwbMqXKtkxvWChXkDyKtUVBAQr7ZM0dYRXnNGi9VlEqhncRLebkJHDY9rwLMfwwE7g002VDCV1Ry");const t=this.stripe.elements();this.card=t.create("card",{hidePostalCode:!0}),this.card.mount("#card-element")}},methods:{getItemTotal(t){return t.quantity*t.product.price},submitForm(){this.errors=[],""===this.first_name&&this.errors.push("The first name field is missing!"),""===this.last_name&&this.errors.push("The last name field is missing!"),""===this.email&&this.errors.push("The email field is missing!"),""===this.phone&&this.errors.push("The phone field is missing!"),""===this.street&&this.errors.push("The street field is missing!"),""===this.zipcode&&this.errors.push("The zip code field is missing!"),""===this.city&&this.errors.push("The city field is missing!"),this.errors.length||(this.$store.commit("setIsLoading",!0),this.stripe.createToken(this.card).then((t=>{t.error?(this.$store.commit("setIsLoading",!1),this.errors.push("Something went wrong with Stripe. Please try again"),console.log(t.error.message)):this.stripeTokenHandler(t.token)})))},async stripeTokenHandler(t){const e=[];for(let o=0;o<this.cart.items.length;o++){const t=this.cart.items[o],s={product:t.product.id,quantity:t.quantity,price:t.product.price*t.quantity};e.push(s)}const s={first_name:this.first_name,last_name:this.last_name,email:this.email,street:this.street,zipcode:this.zipcode,city:this.city,phone:this.phone,items:e,stripe_token:t.id};await L.ZP.post("/api/v1/checkout/",s).then((t=>{this.$store.commit("clearCart"),this.$router.push("/cart/success")})).catch((t=>{this.errors.push("Something went wrong. Please try again"),console.log(t)})),this.$store.commit("setIsLoading",!1)}},computed:{cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.product.price*e.quantity),0)},cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)}}};const Ks=(0,x.Z)(Bs,[["render",Ys]]);var Ns=Ks;const Ws={class:"page-success"},Es=(0,n._)("div",{class:"columns is-multiline"},[(0,n._)("div",{class:"column is-12"},[(0,n._)("h1",{class:"title"},"Thank you"),(0,n._)("p",null,"Your order will be processed within 48 hours")])],-1),Js=[Es];function Rs(t,e,s,o,a,r){return(0,n.wg)(),(0,n.iD)("div",Ws,Js)}var Qs={name:"Success",mounted(){document.title="Success | F1 Store"}};const Xs=(0,x.Z)(Qs,[["render",Rs]]);var Gs=Xs;const to={class:"page-my-account"},eo={class:"columns is-multiline"},so=(0,n._)("div",{class:"column is-12"},[(0,n._)("h2",{class:"is-size-2 has-text-centered"},"Shop by Team")],-1);function oo(t,e,s,o,a,r){const i=(0,n.up)("TeamBox");return(0,n.wg)(),(0,n.iD)("div",to,[(0,n._)("div",eo,[so,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.teamList,(t=>((0,n.wg)(),(0,n.j4)(i,{key:t.id,team:t},null,8,["team"])))),128))])])}const no={class:"column is-3"},ao={class:"box"},ro={class:"image mb-4"},io=["src"],lo={class:"is-size-4 center"};function co(t,e,s,o,r,i){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",no,[(0,n._)("div",ao,[(0,n._)("figure",ro,[(0,n._)("img",{src:s.team.get_thumbnail},null,8,io)]),(0,n._)("h3",lo,(0,a.zw)(s.team.name),1),(0,n.Wm)(l,{to:s.team.get_absolute_url,class:"button is-dark mt-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("View products")])),_:1},8,["to"])])])}var uo={name:"TeamBox",props:{team:Object}};const mo=(0,x.Z)(uo,[["render",co],["__scopeId","data-v-9f77ce4c"]]);var ho=mo,po={name:"Teams",data(){return{teamList:[]}},components:{TeamBox:ho},mounted(){this.getTeamList()},methods:{async getTeamList(){this.$store.commit("setIsLoading",!0),await L.ZP.get("api/v1/products/teams/").then((t=>{this.teamList=t.data,document.title="Teams | F1 Store"})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const go=(0,x.Z)(po,[["render",oo]]);var _o=go;const vo={class:"page-category"},yo={class:"columns is-multiline"},fo={class:"column is-12"},wo={key:0,class:"is-size-2 has-text-centered"},bo={key:1,class:"is-size-2 has-text-centered"};function ko(t,e,s,o,r,i){const l=(0,n.up)("ProductBox");return(0,n.wg)(),(0,n.iD)("div",vo,[(0,n._)("div",yo,[(0,n._)("div",fo,[1===r.teamProducts.length?((0,n.wg)(),(0,n.iD)("h2",wo,(0,a.zw)(r.teamProducts.length)+" Product",1)):((0,n.wg)(),(0,n.iD)("h2",bo,(0,a.zw)(r.teamProducts.length)+" Products",1))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.teamProducts,(t=>((0,n.wg)(),(0,n.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var Po={name:"TeamProducts",components:{ProductBox:Q},data(){return{teamProducts:[]}},mounted(){this.getTeamProducts()},watch:{$route(t,e){"TeamProducts"===t.name&&this.getTeamProducts()}},methods:{async getTeamProducts(){const t=this.$route.params.team_slug;this.$store.commit("setIsLoading",!0),L.ZP.get(`/api/v1/products/teams/${t}/`).then((e=>{this.teamProducts=e.data,document.title=t+" | F1 Store"})).catch((t=>{console.log(t),(0,pt.toast)({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),this.$store.commit("setIsLoading",!1)}}};const So=(0,x.Z)(Po,[["render",ko]]);var To=So;const $o=[{path:"/",name:"home",component:tt},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,5834))},{path:"/:category_slug/:product_slug",name:"Product",component:vt},{path:"/:category_slug",name:"Category",component:Tt},{path:"/search",name:"Search",component:Ft},{path:"/cart",name:"Cart",component:Xt},{path:"/cart/success",name:"Success",component:Gs},{path:"/cart/checkout",name:"Checkout",component:Ns,meta:{requireLogin:!0}},{path:"/sign-up",name:"SignUp",component:ye},{path:"/login",name:"LogIn",component:Oe},{path:"/my-account",name:"MyAccount",component:ns,meta:{requireLogin:!0}},{path:"/teams",name:"Teams",component:_o},{path:"/teams/:team_slug",name:"TeamProducts",component:To}],Co=(0,F.p7)({history:(0,F.PO)("/"),routes:$o});Co.beforeEach(((t,e,s)=>{t.matched.some((t=>t.meta.requireLogin))&&!U.state.isAuthenticated?s({name:"LogIn",query:{to:t.path}}):s()}));var zo=Co;L.ZP.defaults.baseURL="https://orca-app-kgbd6.ondigitalocean.app",(0,o.ri)(D).use(U).use(zo).mount("#app")}},e={};function s(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,n,a){if(!o){var r=1/0;for(u=0;u<t.length;u++){o=t[u][0],n=t[u][1],a=t[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[o,n,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,o){return s.f[o](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/about.e257478e.js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="f1store_vue:";s.l=function(o,n,a,r){if(t[o])t[o].push(n);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+a){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",e+a),i.src=o),t[o]=[n];var m=function(e,s){i.onerror=i.onload=null,clearTimeout(h);var n=t[o];if(delete t[o],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(t){return t(s)})),e)return e(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,o){var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise((function(s,o){n=t[e]=[s,o]}));o.push(n[2]=a);var r=s.p+s.u(e),i=new Error,l=function(o){if(s.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",i.name="ChunkLoadError",i.type=a,i.request=r,n[1](i)}};s.l(r,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,a,r=o[0],i=o[1],l=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var u=l(s)}for(e&&e(o);c<r.length;c++)a=r[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},o=self["webpackChunkf1store_vue"]=self["webpackChunkf1store_vue"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(4430)}));o=s.O(o)})();
//# sourceMappingURL=app.8aa70800.js.map